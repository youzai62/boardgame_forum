{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zhuji\\\\Desktop\\\\heroku_sample\\\\starter\\\\Frontend\\\\src\\\\components\\\\Post.js\";\nimport React, { Component } from 'react';\nimport Postline from './Postline';\nimport $ from 'jquery';\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getPost = () => {\n      $.ajax({\n        url: \"/posts/\".concat(id, \"?page=\").concat(this.state.page),\n        //TODO: update request URL\n        type: \"GET\",\n        success: result => {\n          this.setState({\n            subject: result.subject,\n            content: result.content,\n            replies: result.replies,\n            totalReplies: result.total_replies\n          });\n        },\n        error: error => {\n          alert('Unable to load posts. Please try your request again');\n        }\n      });\n    };\n\n    this.state = {\n      subject: '',\n      content: '',\n      replies: [],\n      page: 1,\n      totalReplies: 0\n    };\n  }\n\n  componentDidMount(id) {\n    this.getPost(id);\n  }\n\n  //Select speicific page\n  selectPage(num) {\n    this.setState({\n      page: num\n    }, () => this.getPost());\n  }\n\n  createPagination() {\n    let pageNumbers = [];\n    let maxPage = Math.ceil(this.state.totalReplies / 5);\n\n    for (let i = 1; i <= maxPage; i++) {\n      pageNumbers.push(React.createElement(\"span\", {\n        key: i,\n        className: \"page-num \".concat(i === this.state.page ? 'active' : ''),\n        onClick: () => {\n          this.selectPage(i);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, i));\n    }\n\n    return pageNumbers;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"post-view\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"posts-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.state.subject), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, this.state.content), this.state.replies.map((r, ind) => React.createElement(Postline, {\n      key: r.id,\n      subject: r.content,\n      deleteAction: this.deleteAction(r.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"pagination-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.createPagination())));\n  }\n\n}\n\nexport default Post;","map":{"version":3,"sources":["C:\\Users\\zhuji\\Desktop\\heroku_sample\\starter\\Frontend\\src\\components\\Post.js"],"names":["React","Component","Postline","$","Post","constructor","props","getPost","ajax","url","id","state","page","type","success","result","setState","subject","content","replies","totalReplies","total_replies","error","alert","componentDidMount","selectPage","num","createPagination","pageNumbers","maxPage","Math","ceil","i","push","render","map","r","ind","deleteAction"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Postline from './Postline';\r\nimport $ from 'jquery';\r\n\r\nclass Post extends Component {\r\n    constructor(props){\r\n      super(props);\r\n      this.state = {\r\n        subject:'',\r\n        content:'',\r\n        replies: [],\r\n        page: 1,\r\n        totalReplies: 0\r\n      }\r\n    }\r\n\r\n    componentDidMount(id) {\r\n        this.getPost(id);\r\n    }\r\n\r\n    getPost = () => {\r\n        $.ajax({\r\n          url: `/posts/${id}?page=${this.state.page}`, //TODO: update request URL\r\n          type: \"GET\",\r\n          success: (result) => {\r\n            this.setState({\r\n              subject: result.subject,\r\n              content: result.content,\r\n              replies: result.replies,\r\n              totalReplies: result.total_replies\r\n            })\r\n          },\r\n          error: (error) => {\r\n            alert('Unable to load posts. Please try your request again')\r\n          }\r\n        })\r\n    }\r\n\r\n    //Select speicific page\r\n    selectPage(num) {\r\n        this.setState({page: num}, () => this.getPost());\r\n    }\r\n\r\n    createPagination(){\r\n        let pageNumbers = [];\r\n        let maxPage = Math.ceil(this.state.totalReplies / 5)\r\n        for (let i = 1; i <= maxPage; i++) {\r\n          pageNumbers.push(\r\n            <span\r\n              key={i}\r\n              className={`page-num ${i === this.state.page ? 'active' : ''}`}\r\n              onClick={() => {this.selectPage(i)}}>{i}\r\n            </span>)\r\n        }\r\n        return pageNumbers;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n          <div className=\"post-view\">\r\n            <div className=\"posts-list\">\r\n              <h2>{this.state.subject}</h2>\r\n              <h4>{this.state.content}</h4>\r\n              {this.state.replies.map((r, ind) => (\r\n                <Postline\r\n                  key={r.id}\r\n                  subject={r.content}\r\n                  deleteAction={this.deleteAction(r.id)}\r\n                />\r\n              ))}\r\n              <div className=\"pagination-menu\">\r\n                {this.createPagination()}\r\n              </div>\r\n            </div> \r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Post;"]},"metadata":{},"sourceType":"module"}